{"ast":null,"code":"import _defineProperty from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import UserContext from\"../Auth/UserContext\";import apiHandler from\"../../api/apiHandler\";import{Redirect}from\"react-router-dom\";var FormSignup=/*#__PURE__*/function(_Component){_inherits(FormSignup,_Component);var _super=_createSuper(FormSignup);function FormSignup(){var _this;_classCallCheck(this,FormSignup);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:\"\",email:\"\",password:\"\",phone_number:0};_this.handleChange=function(event){var value=event.target.value;var key=event.target.name;_this.setState(_defineProperty({},key,value));};_this.handleSubmit=function(event){event.preventDefault();apiHandler.signup(_this.state).then(function(data){_this.context.setUser(data);}).catch(function(error){console.log(error);});};return _this;}_createClass(FormSignup,[{key:\"render\",value:function render(){if(this.context.user){return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.username,type:\"username\",id:\"username\",name:\"username\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.email,type:\"email\",id:\"email\",name:\"email\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.password,type:\"password\",id:\"password\",name:\"password\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"phone_number\"},\"Phone number\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.phone_number,type:\"phone_number\",id:\"phone_number\",name:\"phone_number\"})),/*#__PURE__*/React.createElement(\"button\",null,\"Submit\"));}}]);return FormSignup;}(Component);FormSignup.contextType=UserContext;export default withRouter(FormSignup);","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/components/Forms/FormSignup.jsx"],"names":["React","Component","withRouter","UserContext","apiHandler","Redirect","FormSignup","state","username","email","password","phone_number","handleChange","event","value","target","key","name","setState","handleSubmit","preventDefault","signup","then","data","context","setUser","catch","error","console","log","user","contextType"],"mappings":"85BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAEMC,CAAAA,U,2UAGJC,K,CAAQ,CACNC,QAAQ,CAAE,EADJ,CAENC,KAAK,CAAE,EAFD,CAGNC,QAAQ,CAAE,EAHJ,CAINC,YAAY,CAAE,CAJR,C,OAORC,Y,CAAe,SAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B,CACA,GAAME,CAAAA,GAAG,CAAGH,KAAK,CAACE,MAAN,CAAaE,IAAzB,CAEA,MAAKC,QAAL,oBAAiBF,GAAjB,CAAuBF,KAAvB,GACD,C,OAEDK,Y,CAAe,SAACN,KAAD,CAAW,CACxBA,KAAK,CAACO,cAAN,GAEAhB,UAAU,CACPiB,MADH,CACU,MAAKd,KADf,EAEGe,IAFH,CAEQ,SAACC,IAAD,CAAU,CACd,MAAKC,OAAL,CAAaC,OAAb,CAAqBF,IAArB,EACD,CAJH,EAKGG,KALH,CAKS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPH,EAQD,C,6EAEQ,CACP,GAAI,KAAKH,OAAL,CAAaM,IAAjB,CAAuB,CACrB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CACD,CAED,mBACE,4BAAM,QAAQ,CAAE,KAAKX,YAArB,eACE,4CACA,6BAAO,OAAO,CAAC,UAAf,aADA,cAEA,6BACE,QAAQ,CAAE,KAAKP,YADjB,CAEE,KAAK,CAAE,KAAKL,KAAL,CAAWC,QAFpB,CAGE,IAAI,CAAC,UAHP,CAIE,EAAE,CAAC,UAJL,CAKE,IAAI,CAAC,UALP,EAFA,CADF,cAWA,4CACA,6BAAO,OAAO,CAAC,OAAf,UADA,cAEE,6BACE,QAAQ,CAAE,KAAKI,YADjB,CAEE,KAAK,CAAE,KAAKL,KAAL,CAAWE,KAFpB,CAGE,IAAI,CAAC,OAHP,CAIE,EAAE,CAAC,OAJL,CAKE,IAAI,CAAC,OALP,EAFF,CAXA,cAqBC,4CACA,6BAAO,OAAO,CAAC,UAAf,aADA,cAEC,6BACE,QAAQ,CAAE,KAAKG,YADjB,CAEE,KAAK,CAAE,KAAKL,KAAL,CAAWG,QAFpB,CAGE,IAAI,CAAC,UAHP,CAIE,EAAE,CAAC,UAJL,CAKE,IAAI,CAAC,UALP,EAFD,CArBD,cAgCE,4CACA,6BAAO,OAAO,CAAC,cAAf,iBADA,cAEA,6BACE,QAAQ,CAAE,KAAKE,YADjB,CAEE,KAAK,CAAE,KAAKL,KAAL,CAAWI,YAFpB,CAGE,IAAI,CAAC,cAHP,CAIE,EAAE,CAAC,cAJL,CAKE,IAAI,CAAC,cALP,EAFA,CAhCF,cA0CE,2CA1CF,CADF,CA8CD,C,wBAjFsBV,S,EAAnBK,U,CACGyB,W,CAAc5B,W,CAmFvB,cAAeD,CAAAA,UAAU,CAACI,UAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Redirect } from \"react-router-dom\";\n\nclass FormSignup extends Component {\n  static contextType = UserContext;\n\n  state = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    phone_number: 0,\n  };\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/profile\" />;\n    }\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <div>\n        <label htmlFor=\"username\">Username</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.username}\n          type=\"username\"\n          id=\"username\"\n          name=\"username\"\n        />\n        </div>\n      <div>\n      <label htmlFor=\"email\">Email</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          />\n      </div>\n       <div>\n       <label htmlFor=\"password\">Password</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.password}\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n        />\n       </div>\n        \n        <div>\n        <label htmlFor=\"phone_number\">Phone number</label>\n        <input\n          onChange={this.handleChange}\n          value={this.state.phone_number}\n          type=\"phone_number\"\n          id=\"phone_number\"\n          name=\"phone_number\"\n        />\n        </div> \n        <button>Submit</button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignup);\n"]},"metadata":{},"sourceType":"module"}