{"ast":null,"code":"var _jsxFileName = \"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/pages/Profile.jsx\";\nimport React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\";\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      userAnnounces: [],\n      selectedAnnounce: null\n    };\n\n    this.deleteAnnounce = announceId => {\n      apiHandler.removeAnnounce(announceId).then(() => {\n        const userAnnounces = [...this.state.userAnnounces].filter(announce => announce._id !== announceId);\n        this.setState({\n          userAnnounces\n        });\n      });\n    };\n\n    this.onAnnounceSelect = announceId => {\n      const selectedAnnounce = this.state.userAnnounces.find(announce => announce._id === announceId);\n      this.setState({\n        selectedAnnounce: selectedAnnounce\n      });\n    };\n\n    this.onEditFormClose = () => {\n      this.setState({\n        selectedAnnounce: null\n      });\n    };\n\n    this.handleAnnounceUpdate = updatedAnnounce => {\n      const userAnnounces = [...this.state.userAnnounces].map(announce => announce._id === updatedAnnounce._id ? updatedAnnounce : announce);\n      this.setState({\n        userAnnounces\n      });\n    };\n\n    this.addAnnounce = announce => {\n      this.setState({\n        userAnnounces: [...this.state.userAnnounces]\n      });\n    };\n  }\n\n  componentDidMount() {\n    apiHandler.getUserAnnounce().then(data => {\n      this.setState({\n        userAnnounces: data\n      });\n    });\n  }\n\n  render() {\n    const {\n      user\n    } = this.context;\n    const {\n      userAnnounces\n    } = this.state;\n    if (!user) return null;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      className: \"Profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-presentation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, user.username), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      to: \"/create\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, \"Report Missing\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-image round-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: user.profileImg,\n      alt: user.firstName,\n      style: {\n        width: 100,\n        height: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-presentation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, user.username, \" \", user.email), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: \"/profile/settings\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 19\n      }\n    }, \"Edit profile\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"FormAnnouncement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"Your announcements\"), this.state.userAnnounces && this.state.userAnnounces.map(announce => {\n      if (announce.missing) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"missing_info\",\n          key: announce._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          style: {\n            width: \"100vw\",\n            height: \"\"\n          },\n          src: announce.image,\n          alt: announce.name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(Link, {\n          to: `/missing/${announce._id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"h2\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 27\n          }\n        }, announce.title)), /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }\n        }, announce.name), /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }\n        }, announce.location), /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }\n        }, announce.pet_type), /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }\n        }, announce.description), /*#__PURE__*/React.createElement(Link, {\n          to: `/profile/${announce._id}/edit`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }\n        }, \"Edit\")), /*#__PURE__*/React.createElement(\"button\", {\n          onClick: () => this.deleteAnnounce(announce._id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 23\n          }\n        }, \"Delete\"));\n      }\n    })), /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, \"You don't have anything to report\")));\n  }\n\n}\n\nProfile.contextType = UserContext;\nexport default withUser(Profile);","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/pages/Profile.jsx"],"names":["React","Component","NavLink","UserContext","apiHandler","Link","withUser","Profile","state","userAnnounces","selectedAnnounce","deleteAnnounce","announceId","removeAnnounce","then","filter","announce","_id","setState","onAnnounceSelect","find","onEditFormClose","handleAnnounceUpdate","updatedAnnounce","map","addAnnounce","componentDidMount","getUserAnnounce","data","render","user","context","username","profileImg","firstName","width","height","email","missing","image","name","title","location","pet_type","description","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport withUser from \"../components/Auth/withUser\"\n\n\nclass Profile extends Component {\n  static contextType = UserContext;\n  \n  state = {\n    userAnnounces:[],\n    selectedAnnounce: null,\n  };\n\n  componentDidMount() {\n    apiHandler\n    .getUserAnnounce()\n    .then((data) => {\n      this.setState({ userAnnounces: data });\n    });\n  }\n\n  deleteAnnounce = (announceId) => {\n    apiHandler.removeAnnounce(announceId).then(() => {\n      const userAnnounces = [...this.state.userAnnounces].filter(\n        (announce) =>  announce._id !== announceId\n      );\n      this.setState({ userAnnounces });\n    });\n  };\n\n  onAnnounceSelect = (announceId) => {\n    const selectedAnnounce = this.state.userAnnounces.find(\n      (announce) => announce._id === announceId\n    );\n    this.setState({ selectedAnnounce: selectedAnnounce });\n  };\n\n  onEditFormClose = () => {\n    this.setState({ selectedAnnounce: null });\n  };\n\n  handleAnnounceUpdate = (updatedAnnounce) => {\n    const userAnnounces = [...this.state.userAnnounces].map((announce) =>\n    announce._id === updatedAnnounce._id ? updatedAnnounce : announce\n    );\n    this.setState({ userAnnounces });\n  };\n  \n  addAnnounce = (announce) => {\n    this.setState({ userAnnounces: [...this.state.userAnnounces] });\n  };\n\n  render() {\n    const { user } = this.context;\n    const { userAnnounces } = this.state;\n    if (!user) return null;\n    return (\n      <section className=\"Profile\">\n\n        \n        <div className=\"user-presentation\">\n          <h2 className=\"title\">\n            {user.username}\n          </h2>\n          <button><NavLink to=\"/create\">Report Missing</NavLink></button>\n        </div>\n\n        <div className=\"user-image round-image\">\n          <img src={user.profileImg} alt={user.firstName} style={{width: 100, height: 100}} />\n        </div>\n        <div className=\"user-presentation\">\n          <h2 className=\"title\">\n            {user.username} {user.email}\n          </h2>\n          <button><Link className=\"link\" to=\"/profile/settings\">Edit profile</Link></button>\n        </div>\n          \n          <div className=\"FormAnnouncement\">\n            <h3>Your announcements</h3>\n            {this.state.userAnnounces  && this.state.userAnnounces.map((announce) => {\n                if (announce.missing){\n                    return (\n                        <div className=\"missing_info\" \n                        key={announce._id}   \n                       >\n                            <img\n                          style={{\n                            width: \"100vw\",\n                            height: \"\",\n                          }}\n                          src={announce.image}\n                          alt={announce.name}\n                            />\n                        <Link to={`/missing/${announce._id}`}>\n                          <h2>{announce.title}</h2>\n                        </Link>\n                        <h3>{announce.name}</h3>\n                        <h3>{announce.location}</h3>\n                        <h3>{announce.pet_type}</h3>\n                        <h3>{announce.description}</h3>\n                        <Link to={`/profile/${announce._id}/edit`}>\n                    <button>Edit</button>\n                      </Link>\n                      <button onClick={() => this.deleteAnnounce(announce._id)}>\n                    Delete\n                  </button>\n                        \n                      </div>\n                    )}\n               \n            \n            })}\n          </div>\n        \n\n          <React.Fragment>\n            <div className=\"\">\n              <img src=\"\" alt=\"\" />\n            </div>\n            <p>You don't have anything to report</p>\n          </React.Fragment>\n        \n        \n        \n      </section>\n    );\n  \n     \n      \n  }\n}\n\n\n\nexport default withUser(Profile);\n\n"]},"metadata":{},"sourceType":"module"}