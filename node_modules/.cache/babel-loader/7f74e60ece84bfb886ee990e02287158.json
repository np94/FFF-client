{"ast":null,"code":"import _classCallCheck from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import apiHandler from\"../../api/apiHandler\";import UserContext from\"./UserContext\";var UserProvider=/*#__PURE__*/function(_Component){_inherits(UserProvider,_Component);var _super=_createSuper(UserProvider);function UserProvider(){var _this;_classCallCheck(this,UserProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:null,isLoggedIn:false,isLoading:true};_this.setUser=function(user){_this.setState({user:user,isLoggedIn:true});};_this.removeUser=function(){_this.setState({user:null,isLoggedIn:false});};return _this;}_createClass(UserProvider,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;apiHandler.isLoggedIn().then(function(data){_this2.setState({user:data,isLoggedIn:true,isLoading:false});}).catch(function(error){_this2.setState({user:null,isLoggedIn:false,isLoading:false});});}},{key:\"render\",value:function render(){//  Setup all the values/functions you want to expose to anybody reading\n// from the AuthContext.\nvar authValues={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return/*#__PURE__*/React.createElement(UserContext.Provider,{value:authValues},this.props.children);}}]);return UserProvider;}(Component);export default UserProvider;","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/components/Auth/UserProvider.jsx"],"names":["React","Component","apiHandler","UserContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","then","data","catch","error","authValues","props","children"],"mappings":"guBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,GAEMC,CAAAA,Y,mVACJC,K,CAAQ,CACNC,IAAI,CAAE,IADA,CAENC,UAAU,CAAE,KAFN,CAGNC,SAAS,CAAE,IAHL,C,OAiBRC,O,CAAU,SAACH,IAAD,CAAU,CAClB,MAAKI,QAAL,CAAc,CAAEJ,IAAI,CAAJA,IAAF,CAAQC,UAAU,CAAE,IAApB,CAAd,EACD,C,OAEDI,U,CAAa,UAAM,CACjB,MAAKD,QAAL,CAAc,CAAEJ,IAAI,CAAE,IAAR,CAAcC,UAAU,CAAE,KAA1B,CAAd,EACD,C,qGAjBmB,iBAClBL,UAAU,CACPK,UADH,GAEGK,IAFH,CAEQ,SAACC,IAAD,CAAU,CACd,MAAI,CAACH,QAAL,CAAc,CAAEJ,IAAI,CAAEO,IAAR,CAAcN,UAAU,CAAE,IAA1B,CAAgCC,SAAS,CAAE,KAA3C,CAAd,EACD,CAJH,EAKGM,KALH,CAKS,SAACC,KAAD,CAAW,CAChB,MAAI,CAACL,QAAL,CAAc,CAAEJ,IAAI,CAAE,IAAR,CAAcC,UAAU,CAAE,KAA1B,CAAiCC,SAAS,CAAE,KAA5C,CAAd,EACD,CAPH,EAQD,C,uCAUQ,CACP;AACA;AACA,GAAMQ,CAAAA,UAAU,CAAG,CACjBV,IAAI,CAAE,KAAKD,KAAL,CAAWC,IADA,CAEjBG,OAAO,CAAE,KAAKA,OAFG,CAGjBE,UAAU,CAAE,KAAKA,UAHA,CAIjBJ,UAAU,CAAE,KAAKF,KAAL,CAAWE,UAJN,CAKjBC,SAAS,CAAE,KAAKH,KAAL,CAAWG,SALL,CAAnB,CAQA,mBACE,oBAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEQ,UAA7B,EACG,KAAKC,KAAL,CAAWC,QADd,CADF,CAKD,C,0BA1CwBjB,S,EA6C3B,cAAeG,CAAAA,YAAf","sourcesContent":["import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n"]},"metadata":{},"sourceType":"module"}