{"ast":null,"code":"var _jsxFileName = \"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/components/Forms/FormEditAnnounce.jsx\";\nimport React, { Component } from 'react';\nimport apiHandler from '../../api/apiHandler';\nimport UserContext from \"../Auth/UserContext\";\nimport { buildFormData } from \"../../utils\";\n\nclass FormEditAnnounce extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      name: \"\",\n      location: \"\",\n      email: \"\",\n      image: \"\",\n      description: \"\",\n      pet_type: \"\",\n      missing: true,\n      comments: \"\"\n    };\n    this.formRef = React.createRef();\n\n    this.handleChange = event => {\n      const key = event.target.name;\n      const value = event.target.type === \"file\" ? event.target.files[0] : event.target.value;\n      this.setState({\n        [key]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const fd = new FormData();\n      const {\n        httpResponse,\n        ...data\n      } = this.state;\n      buildFormData(fd, data);\n      const announceId = this.props.match.params.id;\n      apiHandler.updateAnnounce(\"/api/announce/\" + announceId, {\n        title: this.state.title,\n        name: this.state.name,\n        location: this.state.location,\n        email: this.state.email,\n        image: this.state.image,\n        description: this.state.description,\n        pet_type: this.state.pet_type,\n        missing: this.state.missing,\n        comments: this.state.comments\n      }).then(data => {\n        this.props.history.push(\"/profile\"); // console.log(apiResponse);\n      }).catch(err => {\n        console.log(err);\n      }); // axios\n      //   .post(\"http://localhost:4000/api/burgers\", {\n      //     name: this.state.name,\n      //     price: this.state.price,\n      //     image: this.state.image,\n      //   })\n      //   .then((apiResponse) => {\n      //     console.log(apiResponse);\n      //   })\n      //   .catch((err) => {\n      //     console.log(err);\n      //   });\n    };\n  }\n\n  componentDidMount() {\n    const announceId = this.state.match.params.id;\n    apiHandler.getOneAnnounce(\"/api/announce/\" + announceId).then(apiResponse => {\n      // console.log(apiResponse);\n      const announce = apiResponse.data;\n      this.setState({\n        title: announce.title,\n        name: announce.name,\n        location: announce.location,\n        email: announce.email,\n        image: announce.image,\n        description: announce.description,\n        pet_type: announce.pet_type,\n        missing: announce.missing,\n        comments: announce.comments\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ItemForm-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      ref: this.formRef,\n      onChange: this.handleChange,\n      className: \"ItemForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      onClick: this.props.handleClose,\n      className: \"close-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"X\"), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, \"Edit Item\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.title,\n      id: \"title\",\n      name: \"title\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.name,\n      id: \"name\",\n      name: \"name\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"location\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.location,\n      id: \"location\",\n      name: \"location\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.email,\n      id: \"email\",\n      name: \"email\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.description,\n      id: \"description\",\n      name: \"description\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.imageRef,\n      onChange: this.handleChange,\n      value: this.state.image,\n      id: \"image\",\n      name: \"image\",\n      type: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"pet_type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, \"Pet type\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.pet_type,\n      id: \"pet_type\",\n      name: \"pet_type\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"comments\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 12\n      }\n    }, \"Comments\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      value: this.state.comments,\n      id: \"comments\",\n      name: \"comments\",\n      type: \"text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    }, \"Submit !\")));\n  }\n\n}\n\nFormEditAnnounce.contextType = UserContext;\nexport default FormEditAnnounce;","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/components/Forms/FormEditAnnounce.jsx"],"names":["React","Component","apiHandler","UserContext","buildFormData","FormEditAnnounce","state","title","name","location","email","image","description","pet_type","missing","comments","formRef","createRef","handleChange","event","key","target","value","type","files","setState","handleSubmit","preventDefault","fd","FormData","httpResponse","data","announceId","props","match","params","id","updateAnnounce","then","history","push","catch","err","console","log","componentDidMount","getOneAnnounce","apiResponse","announce","error","render","handleClose","imageRef","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport apiHandler from '../../api/apiHandler';\nimport UserContext from \"../Auth/UserContext\";\nimport { buildFormData } from \"../../utils\";\n\nclass FormEditAnnounce extends Component {\n    static contextType = UserContext;\n    state = {\n        title: \"\",\n        name: \"\",\n        location: \"\",\n        email: \"\",\n        image: \"\",\n        description: \"\",\n        pet_type: \"\",\n        missing: true,\n        comments: \"\",\n    };\n\n    formRef = React.createRef();\n\n    componentDidMount() {\n        const announceId = this.state.match.params.id;\n    \n        apiHandler\n          .getOneAnnounce(\"/api/announce/\" + announceId)\n          .then((apiResponse) => {\n            // console.log(apiResponse);\n            const announce = apiResponse.data;\n            this.setState({\n              title:announce.title,\n              name: announce.name,\n              location: announce.location,\n              email: announce.email,\n              image: announce.image,\n              description: announce.description,\n              pet_type: announce.pet_type,\n              missing: announce.missing,\n              comments: announce.comments\n            });\n          })\n          .catch((error) => {\n            console.log(error);\n        });\n    }\n\n    handleChange = (event) => {\n        const key = event.target.name;\n        const value = \n        event.target.type === \"file\" ? event.target.files[0] : event.target.value;\n        this.setState({\n          [key]: value,\n        });\n    };\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        const fd = new FormData();\n        const { httpResponse, ...data } = this.state;\n        buildFormData(fd, data)\n        const announceId = this.props.match.params.id;\n    \n        apiHandler\n        .updateAnnounce(\"/api/announce/\" + announceId, {\n            title: this.state.title,\n            name: this.state.name,\n            location: this.state.location,\n            email: this.state.email,\n            image: this.state.image,\n            description: this.state.description,\n            pet_type: this.state.pet_type,\n            missing: this.state.missing,\n            comments: this.state.comments\n          })\n          .then((data) => {\n            this.props.history.push(\"/profile\");\n            // console.log(apiResponse);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n    \n        // axios\n        //   .post(\"http://localhost:4000/api/burgers\", {\n        //     name: this.state.name,\n        //     price: this.state.price,\n        //     image: this.state.image,\n        //   })\n        //   .then((apiResponse) => {\n        //     console.log(apiResponse);\n        //   })\n        //   .catch((err) => {\n        //     console.log(err);\n        //   });\n      };\n    \n\n\n    render() {\n        return (\n            <div className=\"ItemForm-container\">\n            <form \n            onSubmit={this.handleSubmit}\n            ref={this.formRef}\n            onChange={this.handleChange}\n            className=\"ItemForm\"\n            >\n            <p onClick={this.props.handleClose} className=\"close-link\">\n            X\n          </p>\n          <h2>Edit Item</h2>\n                <div>\n            <label htmlFor=\"title\">Title</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.title}\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n            />\n                </div>\n          <div>\n          <label htmlFor=\"name\">Name</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.name}\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n            />\n          </div>\n            <div>\n            <label htmlFor=\"location\">Location</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.location}\n              id=\"location\"\n              name=\"location\"\n              type=\"text\"\n            />\n            </div>\n            <div>\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            </div>\n            <div>\n            <label htmlFor=\"description\">Description</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.description}\n              id=\"description\"\n              name=\"description\"\n              type=\"text\"\n            />\n            </div>\n         \n            <div>\n            <label htmlFor=\"image\">Image</label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              value={this.state.image}\n              id=\"image\"\n              name=\"image\"\n              type=\"file\"\n            />\n            </div>\n           \n         \n            <div>\n            <label htmlFor=\"pet_type\">Pet type</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.pet_type}\n              id=\"pet_type\"\n              name=\"pet_type\"\n              type=\"text\"\n            />\n            </div>\n           \n           <div>\n           <label htmlFor=\"comments\">Comments</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.comments}\n              id=\"comments\"\n              name=\"comments\"\n              type=\"text\"\n            />\n           </div>\n           \n            <button>Submit !</button>\n          </form>\n        </div>)\n    }\n}\n\nexport default FormEditAnnounce;"]},"metadata":{},"sourceType":"module"}