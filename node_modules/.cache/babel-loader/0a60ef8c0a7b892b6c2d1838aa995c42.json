{"ast":null,"code":"var _jsxFileName = \"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/pages/Profile.jsx\";\nimport React, { Component } from \"react\";\nimport withUser from \"../components/Auth/withUser\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\nimport FormEditAnnounce from \"../components/Forms/FormEditAnnounce\";\nimport { Link } from \"react-router-dom\";\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      announce: []\n    };\n\n    this.deleteAnnounce = announceId => {\n      apiHandler.removeAnnounce(announceId).then(() => {\n        const userAnnounces = [...this.state.userAnnounces].filter(announce => announce._id !== announceId);\n        this.setState({\n          userAnnounces\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      authContext\n    } = this.props;\n    const {\n      user\n    } = authContext;\n    apiHandler.getUserAnnounce().then(apiResp => {\n      console.log(apiResp);\n      const userAnnounce = apiResp.filter(announce => announce.id_user === user._id);\n      this.setState({\n        announces: userAnnounce\n      });\n      console.log(this.state.announces);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, this.state.announce.map(announce => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        key: announce._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, announce.title), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          width: 48,\n          height: 48\n        },\n        src: announce.image,\n        alt: announce.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: `/announce/${announce._id}/edit`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, \"Edit\"))), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => this.deleteAnnounce(announce._id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }\n      }, \"Delete\")));\n    })));\n  }\n\n}\n\nProfile.contextType = UserContext;\nexport default Profile;","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/pages/Profile.jsx"],"names":["React","Component","withUser","NavLink","UserContext","apiHandler","FormEditAnnounce","Link","Profile","state","announce","deleteAnnounce","announceId","removeAnnounce","then","userAnnounces","filter","_id","setState","componentDidMount","authContext","props","user","getUserAnnounce","apiResp","console","log","userAnnounce","id_user","announces","catch","error","render","map","title","width","height","image","name","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withUser from \"../components/Auth/withUser\";\nimport { NavLink } from \"react-router-dom\";\nimport UserContext from \"../components/Auth/UserContext\";\nimport apiHandler from \"../api/apiHandler\";\nimport FormEditAnnounce from \"../components/Forms/FormEditAnnounce\";\nimport { Link } from \"react-router-dom\";\n\nclass Profile extends Component {\n  static contextType = UserContext;\n  \n  state = {\n   announce:[],\n  };\n\n  componentDidMount() {\n    const { authContext } = this.props;\n    const { user } = authContext;\n\n    apiHandler\n    .getUserAnnounce()\n    .then((apiResp) => {\n      console.log(apiResp);\n      const userAnnounce = apiResp.filter((announce) => announce.id_user === user._id);\n\n      this.setState({\n        announces: userAnnounce,\n      });\n\n      console.log(this.state.announces);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n  }\n\n  deleteAnnounce = (announceId) => {\n    apiHandler.removeAnnounce(announceId).then(() => {\n      const userAnnounces = [...this.state.userAnnounces].filter(\n        (announce) =>  announce._id !== announceId\n      );\n      this.setState({ userAnnounces });\n    });\n  };\n\n  \n\n  render() {\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th>Title</th>\n            <th>Image</th>\n            <th>Update</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.state.announce.map((announce) => {\n            return (\n              <tr key={announce._id}>\n                <td>{announce.title}</td>\n                <td>\n                  <img\n                    style={{ width: 48, height: 48 }}\n                    src={announce.image}\n                    alt={announce.name}\n                  />\n                </td>\n                <td>\n                  <Link to={`/announce/${announce._id}/edit`}>\n                    <button>Edit</button>\n                  </Link>\n                </td>\n                <td>\n                  <button onClick={() => this.deleteAnnounce(announce._id)}>\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  }\n}\n\n\n\nexport default Profile;\n\n"]},"metadata":{},"sourceType":"module"}