{"ast":null,"code":"import axios from \"axios\";\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true // Cookie is sent to client when using this service. (used for session)\n\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service.post(\"/api/auth/signup\", userInfo).then(res => res.data).catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service.post(\"/api/auth/signin\", userInfo).then(res => res.data).catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service.get(\"/api/auth/isLoggedIn\").then(res => res.data).catch(errorHandler);\n  },\n\n  logout() {\n    return service.get(\"/api/auth/logout\").then(res => res.data).catch(errorHandler);\n  },\n\n  getAnnounce() {\n    return service.get(\"/api/announce\").then(res => res.data).catch(errorHandler);\n  },\n\n  getOneAnnounce(announceId) {\n    return service.get(`/api/announce/${announceId}`).then(res => res.data).catch(errorHandler);\n  },\n\n  addAnnounce(data) {\n    return service.post(\"/api/announce\", data).then(res => res.data).catch(errorHandler);\n  },\n\n  updateAnnounce(announceId, data) {\n    return service.patch(`/api/announce/${announceId}`, data).then(res => res.data).catch(errorHandler);\n  },\n\n  updateUser(data) {\n    return service.patch(\"/api/users/me\", data).then(res => res.data).catch(errorHandler);\n  },\n\n  getUserAnnounce() {\n    return service.get(\"/api/users/me/announce\").then(res => res.data).catch(errorHandler);\n  },\n\n  removeAnnounce(announceId) {\n    return service.delete(`/api/announce/${announceId}`).then(res => res.data).catch(errorHandler);\n  },\n\n  getUserInfos() {\n    return service.get(\"/api/users/me\").then(res => res.data).catch(errorHandler);\n  }\n\n};","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/api/apiHandler.js"],"names":["axios","service","create","baseURL","process","env","REACT_APP_BACKEND_URL","withCredentials","errorHandler","error","response","data","console","log","signup","userInfo","post","then","res","catch","signin","isLoggedIn","get","logout","getAnnounce","getOneAnnounce","announceId","addAnnounce","updateAnnounce","patch","updateUser","getUserAnnounce","removeAnnounce","delete","getUserInfos"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getAnnounce() {\n    return service\n      .get(\"/api/announce\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneAnnounce(announceId) {\n    return service\n      .get(`/api/announce/${announceId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addAnnounce(data) {\n    return service\n      .post(\"/api/announce\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  updateAnnounce(announceId, data) {\n    return service\n      .patch(`/api/announce/${announceId}`, data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUser(data) {\n    return service\n      .patch(\"/api/users/me\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserAnnounce() {\n    return service\n      .get(\"/api/users/me/announce\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  removeAnnounce(announceId) {\n    return service\n      .delete(`/api/announce/${announceId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  getUserInfos() {\n    return service\n      .get(\"/api/users/me\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n"]},"metadata":{},"sourceType":"module"}