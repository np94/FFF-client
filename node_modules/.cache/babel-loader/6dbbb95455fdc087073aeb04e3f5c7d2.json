{"ast":null,"code":"import _defineProperty from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{withRouter}from\"react-router-dom\";import apiHandler from'../../api/apiHandler';import AutoComplete from\"../AutoComplete\";import UserContext from\"../Auth/UserContext\";var FormAnnouncement=/*#__PURE__*/function(_Component){_inherits(FormAnnouncement,_Component);var _super=_createSuper(FormAnnouncement);function FormAnnouncement(){var _this;_classCallCheck(this,FormAnnouncement);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={title:\"\",name:\"\",location:{coordinates:[]},email:\"\",image:\"\",description:\"\",pet_type:\"\",status:\"\",comments:\"\"};_this.imageRef=React.createRef();_this.handleChange=function(event){var value=event.target.value;var key=event.target.name;_this.setState(_defineProperty({},key,value));};_this.handleSubmit=function(event){event.preventDefault();console.log(_this.state);var fd=new FormData();for(var key in _this.state){fd.append(key,_this.state[key]);}fd.append(\"image\",_this.imageRef.current.files[0]);apiHandler.addAnnounce(fd,{title:_this.state.title,name:_this.state.name,location:_this.state.location,email:_this.state.email,image:_this.state.image,description:_this.state.description,pet_type:_this.state.pet_type,status:_this.state.status,comments:_this.state.comments}).then(function(data){_this.props.history.push(\"/profile\");});};_this.handlePlace=function(place){var location=place.geometry;_this.setState({location:location,formattedAddress:place.place_name});};return _this;}_createClass(FormAnnouncement,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,ref:this.formRef},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"title\"},\"Title\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.title,id:\"title\",name:\"title\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.name,id:\"name\",name:\"name\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\",htmlFor:\"location\"},\"Address\"),/*#__PURE__*/React.createElement(AutoComplete,{onSelect:this.handlePlace})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"E-mail\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.email,id:\"email\",name:\"email\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"label\",htmlFor:\"status\"},\"Status\"),/*#__PURE__*/React.createElement(\"select\",{name:\"status\",id:\"status\",onChange:this.handleChange,value:this.state.status},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true},\"Select a status\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Missing\"},\"Missing\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Found\"},\"Found\"))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"description\"},\"Description\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.description,id:\"description\",name:\"description\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"image\"},\"Image\"),/*#__PURE__*/React.createElement(\"input\",{ref:this.imageRef,onChange:this.handleChange,value:this.state.image,id:\"image\",name:\"image\",type:\"file\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"pet_type\"},\"Pet type\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.pet_type,id:\"pet_type\",name:\"pet_type\",type:\"text\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"comments\"},\"Comments\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.handleChange,value:this.state.comments,id:\"comments\",name:\"comments\",type:\"text\"})),/*#__PURE__*/React.createElement(\"button\",null,\"Submit !\"));}}]);return FormAnnouncement;}(Component);FormAnnouncement.contextType=UserContext;export default withRouter(FormAnnouncement);","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/components/Forms/FormAnnouncement.jsx"],"names":["React","Component","withRouter","apiHandler","AutoComplete","UserContext","FormAnnouncement","state","title","name","location","coordinates","email","image","description","pet_type","status","comments","imageRef","createRef","handleChange","event","value","target","key","setState","handleSubmit","preventDefault","console","log","fd","FormData","append","current","files","addAnnounce","then","data","props","history","push","handlePlace","place","geometry","formattedAddress","place_name","formRef","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from '../../api/apiHandler';\nimport AutoComplete from \"../AutoComplete\";\nimport UserContext from \"../Auth/UserContext\";\n\n\nclass FormAnnouncement extends Component {\n    static contextType = UserContext;\n    state = {\n            title: \"\",\n            name: \"\",\n            location: {\n              coordinates: [],\n            },\n            email: \"\",\n            image: \"\",\n            description: \"\",\n            pet_type: \"\",\n            status:\"\",\n            comments: \"\",\n    };\n    \n    imageRef = React.createRef();\n   \n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({ [key]: value });\n  };\n\n    \n    handleSubmit = (event) => {\n        event.preventDefault();\n        console.log(this.state)\n\n        const fd = new FormData();\n\n        for (let key in this.state) {\n            fd.append(key, this.state[key]);\n        }\n\n        fd.append(\"image\", this.imageRef.current.files[0]);\n\n        apiHandler\n          .addAnnounce(fd, {\n            title: this.state.title,\n            name: this.state.name,\n            location: this.state.location,\n            email: this.state.email,\n            image: this.state.image,\n            description: this.state.description,\n            pet_type:this.state.pet_type,\n            status:this.state.status,\n            comments:this.state.comments,\n          })\n          .then((data) => {\n            this.props.history.push(\"/profile\");\n\n          });\n      };\n\n      handlePlace = (place) => {\n        const location = place.geometry;\n        this.setState({ location, formattedAddress: place.place_name });\n      };\n\n    render() {\n        return (\n            <form onSubmit={this.handleSubmit}\n            ref={this.formRef}>\n                <div>\n                <label htmlFor=\"title\">Title</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.title}\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n            />\n                </div>\n          <div>\n          <label htmlFor=\"name\">Name</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.name}\n              id=\"name\"\n              name=\"name\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"location\">\n              Address\n            </label>\n            <AutoComplete onSelect={this.handlePlace} />\n          </div>\n            <div>\n            <label htmlFor=\"email\">E-mail</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.email}\n              id=\"email\"\n              name=\"email\"\n              type=\"text\"\n            />\n            </div>\n            <div className=\"form-group\">\n            <label className=\"label\" htmlFor=\"status\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              id=\"status\"\n              onChange={this.handleChange}\n              value={this.state.status}\n            >\n              <option value=\"\" disabled>\n                Select a status\n              </option>\n              <option value=\"Missing\">Missing</option>\n              <option value=\"Found\">Found</option>\n            </select>\n          </div>\n            <div>\n            <label htmlFor=\"description\">Description</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.description}\n              id=\"description\"\n              name=\"description\"\n              type=\"text\"\n            />\n            </div>\n         \n            <div>\n            <label htmlFor=\"image\">Image</label>\n            <input\n              ref={this.imageRef}\n              onChange={this.handleChange}\n              value={this.state.image}\n              id=\"image\"\n              name=\"image\"\n              type=\"file\"\n            />\n            </div>\n           \n         \n            <div>\n            <label htmlFor=\"pet_type\">Pet type</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.pet_type}\n              id=\"pet_type\"\n              name=\"pet_type\"\n              type=\"text\"\n            />\n            </div>\n           \n           <div>\n           <label htmlFor=\"comments\">Comments</label>\n            <input\n              onChange={this.handleChange}\n              value={this.state.comments}\n              id=\"comments\"\n              name=\"comments\"\n              type=\"text\"\n            />\n           </div>\n           \n            <button>Submit !</button>\n          </form>\n        );\n    }\n}\n\nexport default withRouter(FormAnnouncement);"]},"metadata":{},"sourceType":"module"}