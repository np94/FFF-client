{"ast":null,"code":"import _defineProperty from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import UserContext from\"../Auth/UserContext\";import{withRouter}from\"react-router-dom\";import apiHandler from\"../../api/apiHandler\";import{Redirect}from\"react-router-dom\";var FormSignin=/*#__PURE__*/function(_Component){_inherits(FormSignin,_Component);var _super=_createSuper(FormSignin);function FormSignin(){var _this;_classCallCheck(this,FormSignin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={email:\"\",password:\"\"};_this.handleChange=function(event){var key=event.target.name;var value=event.target.value;_this.setState(_defineProperty({},key,value));};_this.handleSubmit=function(event){event.preventDefault();apiHandler.signin(_this.state).then(function(data){_this.context.setUser(data);_this.props.history.push(\"/profile\");}).catch(function(error){console.log(error);// Display error message here, if you set the state\n});};return _this;}_createClass(FormSignin,[{key:\"render\",value:function render(){if(this.context.user){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}return/*#__PURE__*/React.createElement(\"form\",{onChange:this.handleChange,onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",id:\"email\",name:\"email\",onChange:this.handleChange,value:this.state.email,className:\"input\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",onChange:this.handleChange,value:this.state.password,className:\"input\"}),/*#__PURE__*/React.createElement(\"button\",null,\"Submit\"));}}]);return FormSignin;}(Component);FormSignin.contextType=UserContext;export default withRouter(FormSignin);","map":{"version":3,"sources":["/Users/NisaKhahidir/Ironhack/projectpets/FurryFriendFinder/FFF/client/src/components/Forms/FormSignin.jsx"],"names":["React","Component","UserContext","withRouter","apiHandler","Redirect","FormSignin","state","email","password","handleChange","event","key","target","name","value","setState","handleSubmit","preventDefault","signin","then","data","context","setUser","props","history","push","catch","error","console","log","user","contextType"],"mappings":"85BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,OAASC,QAAT,KAAyB,kBAAzB,C,GAEMC,CAAAA,U,2UAGJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,QAAQ,CAAE,EAFJ,C,OAKRC,Y,CAAe,SAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,GAAG,CAAGD,KAAK,CAACE,MAAN,CAAaC,IAAzB,CACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACE,MAAN,CAAaE,KAA3B,CAEA,MAAKC,QAAL,oBAAiBJ,GAAjB,CAAuBG,KAAvB,GACD,C,OAEDE,Y,CAAe,SAACN,KAAD,CAAW,CACxBA,KAAK,CAACO,cAAN,GAEAd,UAAU,CACPe,MADH,CACU,MAAKZ,KADf,EAEGa,IAFH,CAEQ,SAACC,IAAD,CAAU,CACd,MAAKC,OAAL,CAAaC,OAAb,CAAqBF,IAArB,EACA,MAAKG,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACD,CALH,EAMGC,KANH,CAMS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA;AACD,CATH,EAUD,C,6EAEQ,CACP,GAAI,KAAKN,OAAL,CAAaS,IAAjB,CAAuB,CACrB,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CAED,mBACE,4BAAM,QAAQ,CAAE,KAAKrB,YAArB,CAAmC,QAAQ,CAAE,KAAKO,YAAlD,eACE,6BAAO,OAAO,CAAC,OAAf,UADF,cAEE,6BAAO,IAAI,CAAC,OAAZ,CAAoB,EAAE,CAAC,OAAvB,CAA+B,IAAI,CAAC,OAApC,CAA4C,QAAQ,CAAE,KAAKP,YAA3D,CACM,KAAK,CAAE,KAAKH,KAAL,CAAWC,KADxB,CAEM,SAAS,CAAC,OAFhB,EAFF,cAME,6BAAO,OAAO,CAAC,UAAf,aANF,cAOE,6BAAO,IAAI,CAAC,UAAZ,CAAuB,EAAE,CAAC,UAA1B,CAAqC,IAAI,CAAC,UAA1C,CAAqD,QAAQ,CAAE,KAAKE,YAApE,CACM,KAAK,CAAE,KAAKH,KAAL,CAAWE,QADxB,CAEM,SAAS,CAAC,OAFhB,EAPF,cAUE,2CAVF,CADF,CAcD,C,wBAjDsBR,S,EAAnBK,U,CACG0B,W,CAAc9B,W,CAmDvB,cAAeC,CAAAA,UAAU,CAACG,UAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\";\nimport UserContext from \"../Auth/UserContext\";\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Redirect } from \"react-router-dom\";\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/profile\");\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n        <label htmlFor=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" name=\"email\" onChange={this.handleChange}\n              value={this.state.email}\n              className=\"input\" />\n\n        <label htmlFor=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" name=\"password\" onChange={this.handleChange}\n              value={this.state.password}\n              className=\"input\" />\n        <button>Submit</button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignin);\n"]},"metadata":{},"sourceType":"module"}